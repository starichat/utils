大家好，我是阿星，今天给大家分享一篇 go 1.18新特性的另外一个特性，模糊测试。这个概念，我也是第一次听说，因而引发了我的一些兴趣，翻阅了一些资料，结合 go 1.18 的语法，一起来看看这个新知识吧。

### 序0：模糊测试是什么

> Fuzz Testing或Fuzzing是一种软件测试技术，将称为FUZZ的无效或随机数据放入软件系统中，以发现编码错误和安全漏洞。模糊测试的目的是使用自动化或半自动化技术插入数据，并对系统进行各种异常测试，例如系统崩溃或内置代码故障等。



简单来说就是提供一些无效数据和预料之外的数据来对我们的编码进行测试，属于安全测试范围内的一种测试手段，能够帮助我们测试出编码中更多的问题。

作为一个开发人员，基本都知道单元测试是保证我们程序稳定运行的一个保障，因而很多公司的代码提交平台也需要单元测试的代码覆盖率达到多少以上才允许合并，但单元测试能过，也不能代表我们程序不会出现bug。因为按照我们的编码思路来写自己的单元测试，经常会囿于自己的编程思维之中，都很容易漏掉一些正向思维难以步骤到的异常场景。

正如「只缘身在此山中」，因而，我们需要「模糊测试」来对我们的程序提供一个更可靠的保障。

### 序1：模糊测试的工作原理

![image-20220327200215852](/Users/starichat/Library/Application%20Support/typora-user-images/image-20220327200215852.png)

1. 输入模糊测试的语料库并生成模糊数据
2. 执行系统单元测试并监控系统行为
3. 记录缺陷

工作原理很简单，也都是一些官方解释，没什么需要着重介绍的，下面直接来看看 go 语言原生支持的模糊测试具体应该怎么使用。

### 序2：在 go 语言中如何使用模糊测试







### 序4：总结

模糊测试的存在，并不是为了替代原单元测试，而是为单元测试提供更好的保障，是一个补充方案，而非替代方案。

单元测试的局限性在于，你只能用预期的输入进行测试；模糊测试在发现暴露出奇怪行为的意外输入方面非常出色。一个好的模糊测试系统也会对被测试的代码进行分析，因此它可以有效地产生输入，从而扩大代码覆盖面。

同时模糊测试的适用场景也比较有限，如果函数的入参并不是像本例中的那样的简单（字符串），而是各种对象呢？可能它就无能为力了吧。











**更多内容，可点击下方关注公众号~**

![阿星的云原生之路](https://mmbiz.qlogo.cn/mmbiz_png/FLkFLVcwLwFWzXTOQv5q30D19fibyGicYB303yibnmwwoPpaLw0J0cKZnV1pP2lFVWXBv8ByCBKAaPdXf3SJLcbrA/0?wx_fmt=png)**阿星的云原生之路**云原生爱好者、实践者，专注于云原生领域，分享包括但不限于 go 语言、linux、 kubernetes、 DevOps 等方面的知识。公众号